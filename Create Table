#SQL STATEMENT TO CREATE TABLE
create_table_sql = """
CREATE TABLE IF NOT EXISTS users (
    id SERIAL PRIMARY KEY,
    name VARCHAR(50) NOT NULL,
    email VARCHAR(50),
    password VARCHAR(50) NOT NULL,
    create_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
"""
# execute create table query
cur.execute(create_table_sql)

#commit table to database
conn.commit()

#insert some data(if the data is created)
cur.execute("INSERT INTO users(name,email,password) VALUES (%s, %s, %s)",
            ('Surya','surya@gmail.com','welcome@123'))
conn.commit()

print("Sample Data inserted successfully")
cur.execute("Select id,name,email,create_at from users ORDER by id DESC")
print(cur.fetchone())

print("\nRemaining users (if any):")
for row in cur.fetchall();
    print(row)

#close connection
cur.close()
conn.close()
